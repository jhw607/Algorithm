```python3
from heapq import heapify, heappop, heappush
def solution(n, works):
    answer = 0
    total = sum(works)
    if total < n:
        return 0

    h = []
    for w in works:
        heappush(h, -w)
    # heapify(h := [-w for w in works])

    while n:
        now = -heappop(h)
        n -= 1
        heappush(h, - now + 1)

    answer = sum([x ** 2 for x in h])

    return answer
```
